<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Will you marry me?</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23ff3b6b' d='M12 21s-7.33-4.87-9.29-7.03C.79 10.93 3.6 6 7.5 6c2.04 0 3.8 1.1 4.5 2.72C12.7 7.1 14.46 6 16.5 6 20.4 6 23.21 10.93 21.29 13.97 19.33 16.13 12 21 12 21z'/%3E%3C/svg%3E"
    />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <!-- iOS home screen -->
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ff3b6b" />
    <!-- pinned-tab monochrome -->
    <meta name="theme-color" content="#ff3b6b" />
    <!-- address bar color on mobile -->

    <style>
      :root {
        --bg: #fff7fb;
        --accent: #ff7ab6;
        --accent-2: #84f0d9;
        --paper: #fffdf6;
        --text: #2b2b2b;
      }
      * {
        box-sizing: border-box;
      }
      body {
        font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto,
          sans-serif;
        margin: 0;
        min-height: 100vh;
        background: linear-gradient(180deg, #fff, #fff7fb);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        color: var(--text);
      }
      .wrap {
        width: 980px;
        max-width: 100%;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.98),
          rgba(255, 255, 255, 0.99)
        );
        border-radius: 16px;
        box-shadow: 0 18px 50px rgba(20, 20, 30, 0.08);
        overflow: hidden;
        padding: 24px;
        position: relative;
      }
      header {
        display: flex;
        gap: 18px;
        align-items: center;
        justify-content: space-between;
      }
      .title {
        font-size: 2.2rem;
        font-weight: 800;
        /* background: linear-gradient(90deg, var(--accent), var(--accent-2)); */
        /* -webkit-background-clip: text; */
        /* background-clip: text; */
        /* color: transparent; */
      }
      .subtitle {
        color: #666;
        font-weight: 500;
      }
      .proposal {
        margin-top: 18px;
        display: flex;
        gap: 18px;
        align-items: center;
      }
      .proposal .left {
        flex: 1;
      }
      .big-ask {
        font-size: 1.6rem;
        font-weight: 700;
        margin-bottom: 8px;
      }
      .silly {
        font-size: 1rem;
        color: #444;
        margin-bottom: 12px;
      }
      .buttons {
        display: flex;
        gap: 12px;
      }
      .btn {
        background: var(--accent);
        border: none;
        padding: 12px 16px;
        border-radius: 10px;
        color: white;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 8px 20px rgba(255, 122, 182, 0.13);
      }
      .btn.ghost {
        background: #fff;
        border: 2px solid #ffdce6;
        color: var(--accent);
      }
      .photo {
        width: 240px;
        height: 180px;
        border-radius: 12px;
        /* background: linear-gradient(135deg, var(--accent), var(--accent-2)); */
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 800;
        font-size: 240px;
      }

      .hearts {
        position: absolute;
        inset: 0;
        pointer-events: none;
        overflow: hidden;
      }
      .heart {
        position: absolute;
        font-size: 20px;
        opacity: 0.9;
        transform: translateY(-10px);
        animation: fall 6s linear infinite;
      }
      @keyframes fall {
        to {
          transform: translateY(110vh) rotate(360deg);
          opacity: 0.04;
        }
      }

      .modal {
        position: fixed;
        inset: 0;
        background: rgba(10, 10, 20, 0.45);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        z-index: 40;
      }
      .panel {
        background: var(--paper);
        border-radius: 12px;
        padding: 18px;
        max-width: 920px;
        width: 100%;
        box-shadow: 0 20px 60px rgba(20, 20, 30, 0.25);
      }
      .panel h2 {
        margin: 0 0 8px 0;
      }
      .controls {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        margin-top: 12px;
      }
      label {
        font-size: 0.9rem;
        color: #444;
      }
      input[type="text"] {
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #eee;
        min-width: 220px;
      }
      .cert-area {
        margin-top: 18px;
        display: flex;
        gap: 18px;
        align-items: flex-start;
      }
      .cert-preview {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      canvas {
        background: linear-gradient(180deg, #fff, #fff9e9);
        border-radius: 8px;
        box-shadow: 0 8px 30px rgba(20, 20, 30, 0.06);
      }
      .actions {
        display: flex;
        gap: 8px;
        flex-direction: column;
      }
      .tiny {
        padding: 8px 10px;
        border-radius: 8px;
        border: none;
        background: #ffdce6;
        color: #8b1f53;
        font-weight: 700;
        cursor: pointer;
      }

      .no-btn {
        position: relative;
      }
      @media (max-width: 720px) {
        .proposal {
          flex-direction: column;
        }
        .photo {
          width: 100%;
          height: 140px;
        }
      }

      footer {
        margin-top: 16px;
        color: #666;
        font-size: 0.9rem;
      }
    </style>
  </head>
  <body>
    <div class="wrap" role="main">
      <div class="hearts" id="hearts"></div>
      <header>
        <div>
          <div class="title">A super duper serious question ü•∫</div>
          <div class="subtitle">
            romantic, dramatic, and slightly ridiculous just like us.
          </div>
        </div>
        <div class="photo" id="avatar">üíç</div>
      </header>

      <section class="proposal">
        <div class="left">
          <div class="big-ask">Will you marry me?</div>
          <div class="silly">
            I promise to let you have the last slice of pizza, and to carry all
            heavy Roblox loot. Choose wisely.
          </div>
          <div class="buttons">
            <button class="btn" id="yesBtn">Yes! Of course üòç</button>
            <button class="btn ghost no-btn" id="noBtn">No... (maybe)</button>
          </div>
        </div>
        <div>
          <div style="font-weight: 700; color: #444; margin-bottom: 8px">
            How it works
          </div>
          <ol style="margin: 0 0 8px 18px; color: #555">
            <li>Click the big <strong>Yes</strong> button when ready.</li>
            <li>
              We'll celebrate and make a silly certificate with our names.
            </li>
            <li>You can download or print the certificate instantly.</li>
          </ol>
        </div>
      </section>

      <footer>
        Made with ‚ù§Ô∏è 
      </footer>
    </div>

    <!-- modal (hidden by default) -->
    <div class="modal" id="modal" style="display: none">
      <div class="panel" role="dialog" aria-modal="true">
        <h2>
          She said
          <span
            style="
              background: linear-gradient(
                90deg,
                var(--accent),
                var(--accent-2)
              );
              -webkit-background-clip: text;
              background-clip: text;
              color: transparent;
              font-weight: 900;
            "
            >YES</span
          >
          üéâ
        </h2>
        <p style="margin: 0 0 8px 0; color: #444">
          Time to make our Officially Silly Marriage Certificate. I'll prefill
          your name for you, change it if you like.
        </p>

        <div class="controls">
          <div>
            <label>Your name</label><br />
            <input type="text" id="yourName" value="Umais" />
          </div>
          <div>
            <label>Their name</label><br />
            <input type="text" id="theirName" placeholder="Her name here" />
          </div>
          <div>
            <label>Certificate date</label><br />
            <input type="text" id="certDate" value="" placeholder="auto" />
          </div>
          <div style="display: flex; align-items: flex-end; gap: 8px">
            <button class="tiny" id="generateBtn">Generate Certificate</button>
            <button class="tiny" id="closeModal">Close</button>
          </div>
        </div>

        <div class="cert-area">
          <div class="cert-preview">
            <canvas
              id="certCanvas"
              width="800"
              height="560"
              aria-label="Certificate preview"
            ></canvas>
          </div>
          <div class="actions">
            <button id="downloadBtn" class="tiny">Download PNG</button>
            <button id="printBtn" class="tiny">Print</button>
            <button id="shareBtn" class="tiny">Show silly message</button>
          </div>
        </div>

        <p style="margin-top: 12px; color: #666; font-size: 0.9rem">
          Tip: Edit the names above before generating. When satisfied, click
          Download or Print.
        </p>
      </div>
    </div>

    <script>
      // small helper: confetti/hearts
      function spawnHearts(count = 30) {
        const container = document.getElementById("hearts");
        for (let i = 0; i < count; i++) {
          const d = document.createElement("div");
          d.className = "heart";
          d.textContent = ["üíñ", "üíç", "‚ù§", "üíò"][
            Math.floor(Math.random() * 4)
          ];
          const size = 14 + Math.floor(Math.random() * 28);
          d.style.fontSize = size + "px";
          d.style.left = Math.random() * 100 + "%";
          d.style.top = -(10 + Math.random() * 30) + "px";
          d.style.animationDuration = 4 + Math.random() * 5 + "s";
          container.appendChild(d);
          setTimeout(() => d.remove(), 9000);
        }
      }

      // playful moving 'No' button behavior
      const noBtn = document.getElementById("noBtn");
      let dodge = true;
      noBtn.addEventListener("mouseenter", () => {
        if (!dodge) return;
        // move it to a random nearby position inside its container
        const parentRect = noBtn.parentElement.getBoundingClientRect();
        const wrapRect = document
          .querySelector(".wrap")
          .getBoundingClientRect();
        const maxX = Math.max(10, wrapRect.width - parentRect.width - 40);
        const offsetX = Math.random() * maxX - maxX / 2;
        noBtn.style.transform = `translateX(${offsetX}px) translateY(${
          Math.random() * 10 - 5
        }px)`;
      });
      noBtn.addEventListener("click", () => {
        dodge = false;
        noBtn.style.transform = "";
        noBtn.textContent = "Okay... ü•∫";
      });

      // YES flow
      const yesBtn = document.getElementById("yesBtn");
      const modal = document.getElementById("modal");
      const generateBtn = document.getElementById("generateBtn");
      const downloadBtn = document.getElementById("downloadBtn");
      const printBtn = document.getElementById("printBtn");
      const closeModal = document.getElementById("closeModal");
      const shareBtn = document.getElementById("shareBtn");

      yesBtn.addEventListener("click", () => {
        spawnHearts(60);
        modal.style.display = "flex";
        // set default date
        const dateInput = document.getElementById("certDate");
        if (!dateInput.value) dateInput.value = new Date().toLocaleDateString();
      });

      closeModal.addEventListener("click", () => {
        modal.style.display = "none";
      });

      // certificate drawing
      const canvas = document.getElementById("certCanvas");
      const ctx = canvas.getContext("2d");

      function drawCertificate(your, their, dateStr) {
        // clear
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        // background
        ctx.fillStyle = "#fffef7";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        // border
        ctx.strokeStyle = "#ffdce6";
        ctx.lineWidth = 14;
        roundRect(ctx, 10, 10, canvas.width - 20, canvas.height - 20, 18);
        ctx.stroke();

        // header ribbon
        ctx.fillStyle = "#ff8fb1";
        ctx.fillRect(40, 36, canvas.width - 80, 64);
        ctx.fillStyle = "#fff";
        ctx.font = "700 28px Poppins, sans-serif";
        ctx.textAlign = "center";
        ctx.fillText(
          "Officially Silly Marriage Certificate",
          canvas.width / 2,
          80
        );

        // body text
        ctx.fillStyle = "#333";
        ctx.font = "500 18px Poppins, sans-serif";
        ctx.textAlign = "center";
        const line1 = `This certifies that ${your} and ${their}`;
        const line2 = `have agreed to be silly, kind, and to share pizza and Robux forever.`;
        ctx.fillText(line1, canvas.width / 2, 160);
        ctx.fillText(line2, canvas.width / 2, 190);

        // names big
        ctx.font = "800 36px Poppins, sans-serif";
        ctx.fillStyle = "#8b1f53";
        ctx.fillText(your, canvas.width / 2, 260);
        ctx.fillText("&", canvas.width / 2, 305);
        ctx.fillText(their, canvas.width / 2, 350);

        // date and signature lines
        ctx.font = "500 14px Poppins, sans-serif";
        ctx.fillStyle = "#444";
        ctx.fillText(`Date: ${dateStr}`, canvas.width / 3, 420);
        ctx.fillText(
          "Official silly witness: The Internet",
          (canvas.width / 3) * 2,
          420
        );

        // signature lines
        ctx.strokeStyle = "#d8a2b8";
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(120, 450);
        ctx.lineTo(320, 450);
        ctx.moveTo(480, 450);
        ctx.lineTo(680, 450);
        ctx.stroke();
        ctx.fillStyle = "#666";
        ctx.font = "12px Poppins, sans-serif";
        ctx.fillText(your, 220, 468);
        ctx.fillText(their, 580, 468);
      }

      function roundRect(ctx, x, y, w, h, r) {
        ctx.beginPath();
        ctx.moveTo(x + r, y);
        ctx.arcTo(x + w, y, x + w, y + h, r);
        ctx.arcTo(x + w, y + h, x, y + h, r);
        ctx.arcTo(x, y + h, x, y, r);
        ctx.arcTo(x, y, x + w, y, r);
        ctx.closePath();
      }

      generateBtn.addEventListener("click", () => {
        const your = document.getElementById("yourName").value || "You";
        const their = document.getElementById("theirName").value || "Your Love";
        const dateStr =
          document.getElementById("certDate").value ||
          new Date().toLocaleDateString();
        drawCertificate(your, their, dateStr);
      });

      // download
      downloadBtn.addEventListener("click", () => {
        const data = canvas.toDataURL("image/png");
        const a = document.createElement("a");
        a.href = data;
        a.download = "silly-marriage-certificate.png";
        document.body.appendChild(a);
        a.click();
        a.remove();
      });

      // print (open in new window)
      printBtn.addEventListener("click", () => {
        const data = canvas.toDataURL("image/png");
        const w = window.open("", "_blank");
        w.document.write(
          `<img src="${data}" style="max-width:100%;height:auto">`
        );
        w.document.title = "Silly Marriage Certificate";
        w.print();
      });

      // shareBtn fun message
      shareBtn.addEventListener("click", () => {
        alert(
          "You are now officially silly and ridiculous in love. Go plan a celebration! üéâ"
        );
      });

      // initial draw
      window.addEventListener("load", () => {
        // draw a placeholder cert
        drawCertificate("Umais", "[Her Name]", new Date().toLocaleDateString());
      });
    </script>
  </body>
</html>
